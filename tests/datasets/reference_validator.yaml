dataset:
  name: "Reference Validator Dataset"
  description: "Test cases for validating bibliography references via web presence"
  test_config:
    # Strictly compare stable scalars only
    strict_fields:
      reference_validations:
        __all__:
          - original_reference
          - valid_reference
    # Let the LLM semantically compare the analysis markdown text
    llm_fields:
      reference_validations:
        __all__:
          - analysis
    llm_instructions: "Ignore the comparison of the found URLs"
  items:
    - name: "valid_rand_report"
      description: "Known RAND report should validate as correct"
      input:
        references:
          - text: "Goodison, Sean E., Robert C. Davis, and Brian A. Jackson. Digital Evidence and the U.S. Criminal Justice System: Identifying Technology and Other Needs to More Effectively Acquire and Utilize Digital Evidence. Santa Monica, CA: RAND Corporation, 2015."
            has_associated_supporting_document: false
            index_of_associated_supporting_document: -1
            name_of_associated_supporting_document: ""
      expected_output:
        reference_validations:
          - original_reference:
              text: "Goodison, Sean E., Robert C. Davis, and Brian A. Jackson. Digital Evidence and the U.S. Criminal Justice System: Identifying Technology and Other Needs to More Effectively Acquire and Utilize Digital Evidence. Santa Monica, CA: RAND Corporation, 2015."
              has_associated_supporting_document: false
              index_of_associated_supporting_document: -1
              name_of_associated_supporting_document: ""
            valid_reference: true
            analysis: |
              **Suggested action:** No changes needed.

              - Authors: All authors are present and their names are spelled correctly.
              - Title: The title of the reference is correct.
              - Publisher: The publisher of the reference matches that online.
              - Year: The year of the reference is correct and is a valid year.
              - Found URL: https://www.rand.org/pubs/research_reports/RR890.html, https://www.ojp.gov/library/publications/digital-evidence-and-us-criminal-justice-system-identifying-technology-and

    - name: "invalid_fabricated_reference"
      description: "Fabricated journal article should be flagged as invalid with corrective guidance"
      input:
        references:
          - text: "Doe, John. The Effects of Widgets on Gadgets. Journal of Widgetry, 2020."
            has_associated_supporting_document: false
            index_of_associated_supporting_document: -1
            name_of_associated_supporting_document: ""
      expected_output:
        reference_validations:
          - original_reference:
              text: "Doe, John. The Effects of Widgets on Gadgets. Journal of Widgetry, 2020."
              has_associated_supporting_document: false
              index_of_associated_supporting_document: -1
              name_of_associated_supporting_document: ""
            valid_reference: false
            analysis: |
              **Suggested action:** Replace this fabricated reference with a real, verifiable source or remove it.

              - Authors: The authors cannot be verified online.
              - Title: The title cannot be verified online.
              - Publisher: The publisher cannot be verified online.
              - Year: The year cannot be verified online.
              - Found URL:

    - name: "wrong_year_known_source"
      description: "Known RAND report with incorrect year should be partially corrected and marked invalid"
      input:
        references:
          - text: "Vermeer, Michael J. D., Dulani Woods, and Brian A. Jackson. Identifying Law Enforcement Needs for Access to Digital Evidence in Remote Data Centers. Santa Monica, CA: RAND Corporation, 2019."
            has_associated_supporting_document: false
            index_of_associated_supporting_document: -1
            name_of_associated_supporting_document: ""
      expected_output:
        reference_validations:
          - original_reference:
              text: "Vermeer, Michael J. D., Dulani Woods, and Brian A. Jackson. Identifying Law Enforcement Needs for Access to Digital Evidence in Remote Data Centers. Santa Monica, CA: RAND Corporation, 2019."
              has_associated_supporting_document: false
              index_of_associated_supporting_document: -1
              name_of_associated_supporting_document: ""
            valid_reference: false
            analysis: |
              **Suggested action:** Update the publication year to 2018 to match the official RAND report.

              - Authors: All authors are present and their names are spelled correctly.
              - Title: The title of the reference is correct.
              - Publisher: The publisher of the reference matches that online.
              - Year: The year of the reference is incorrect, it should be 2018.
              - Found URL: https://www.rand.org/pubs/research_reports/RR2240.html, https://nij.ojp.gov/library/publications/identifying-law-enforcement-needs-access-digital-evidence-remote-data-centers
